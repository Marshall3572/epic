{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/marshall/Desktop/epic-react/epic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState}from'react';import LogoUrl from\"../logo.svg\";import{NavLink,useHistory}from'react-router-dom';import styled from'styled-components';import{Button}from'antd';import{useStores}from'../stores';import{observer}from'mobx-react';// header是styled的方法，` `里是params\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=styled.header(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding: 10px 100px;\\n  background-color: #02101f;\\n\"])));var Logo=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 30px\\n\"])));// 注意这里的不同\nvar StyledLink=styled(NavLink)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  color: #fff;\\n  margin-left: 30px;\\n\\n  &.active {\\n    border-bottom: 1px solid #fff;\\n  }\\n\"])));var Login=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-left: auto;\\n\"])));var StyledButton=styled(Button)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin-left: 10px;\\n\"])));var Component=observer(function(){var history=useHistory();var _useStores=useStores(),UserStore=_useStores.UserStore,AuthStore=_useStores.AuthStore;var handleLogout=function handleLogout(){AuthStore.logout();};var handleRegister=function handleRegister(){console.log('跳转到注册页面');history.push('/register');};var handleLogin=function handleLogin(){console.log('跳转到登陆页面');history.push('/login');};return/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Logo,{src:LogoUrl}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(StyledLink,{exact:true,to:\"/\",activeClassName:\"active\",children:\"\\u9996\\u9875\"}),/*#__PURE__*/_jsx(StyledLink,{to:\"/history\",activeClassName:\"active\",children:\"\\u4E0A\\u4F20\\u5386\\u53F2\"}),/*#__PURE__*/_jsx(StyledLink,{to:\"/about\",activeClassName:\"active\",children:\"\\u5173\\u4E8E\\u6211\"})]}),/*#__PURE__*/_jsx(Login,{children:UserStore.currentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[UserStore.currentUser.attributes.username,/*#__PURE__*/_jsx(StyledButton,{type:\"primary\",onClick:handleLogout,children:\"\\u6CE8\\u9500\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledButton,{type:\"primary\",onClick:handleLogin,children:\"\\u767B\\u9646\"}),/*#__PURE__*/_jsx(StyledButton,{type:\"primary\",onClick:handleRegister,children:\"\\u6CE8\\u518C\"})]})})]});});export default Component;","map":{"version":3,"sources":["/Users/marshall/Desktop/epic-react/epic/src/components/Header.js"],"names":["React","useState","NavLink","useHistory","styled","Button","useStores","observer","Header","header","Logo","img","StyledLink","Login","div","StyledButton","Component","history","UserStore","AuthStore","handleLogout","logout","handleRegister","console","log","push","handleLogin","LogoUrl","currentUser","attributes","username"],"mappings":"sQAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,C,iCAEA,OAAQC,OAAR,CAAiBC,UAAjB,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAAQC,MAAR,KAAqB,MAArB,CACA,OAAQC,SAAR,KAAwB,WAAxB,CACA,OAAQC,QAAR,KAAuB,YAAvB,CAEA;6IACA,GAAMC,CAAAA,MAAM,CAAGJ,MAAM,CAACK,MAAV,mKAAZ,CAMA,GAAMC,CAAAA,IAAI,CAAGN,MAAM,CAACO,GAAV,qFAAV,CAGA;AACA,GAAMC,CAAAA,UAAU,CAAGR,MAAM,CAACF,OAAD,CAAT,oKAAhB,CASA,GAAMW,CAAAA,KAAK,CAAGT,MAAM,CAACU,GAAV,2FAAX,CAGA,GAAMC,CAAAA,YAAY,CAAGX,MAAM,CAACC,MAAD,CAAT,2FAAlB,CAIA,GAAMW,CAAAA,SAAS,CAAGT,QAAQ,CAAC,UAAM,CAE7B,GAAMU,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CACA,eAA+BG,SAAS,EAAxC,CAAOY,SAAP,YAAOA,SAAP,CAAkBC,SAAlB,YAAkBA,SAAlB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBD,SAAS,CAACE,MAAV,GACD,CAFD,CAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAP,OAAO,CAACQ,IAAR,CAAa,WAAb,EACD,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBH,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAP,OAAO,CAACQ,IAAR,CAAa,QAAb,EACD,CAHD,CAKA,mBACE,MAAC,MAAD,yBACE,KAAC,IAAD,EAAM,GAAG,CAAEE,OAAX,EADF,cAEE,oCAEE,KAAC,UAAD,EAAY,KAAK,KAAjB,CAAkB,EAAE,CAAC,GAArB,CAAyB,eAAe,CAAC,QAAzC,0BAFF,cAGE,KAAC,UAAD,EAAY,EAAE,CAAC,UAAf,CAA0B,eAAe,CAAC,QAA1C,sCAHF,cAIE,KAAC,UAAD,EAAY,EAAE,CAAC,QAAf,CAAwB,eAAe,CAAC,QAAxC,gCAJF,GAFF,cAQE,KAAC,KAAD,WAEIT,SAAS,CAACU,WAAV,cAAwB,2BACnBV,SAAS,CAACU,WAAV,CAAsBC,UAAtB,CAAiCC,QADd,cAEpB,KAAC,YAAD,EAAc,IAAI,CAAC,SAAnB,CAA6B,OAAO,CAAEV,YAAtC,0BAFoB,GAAxB,cAII,wCACA,KAAC,YAAD,EAAc,IAAI,CAAC,SAAnB,CAA6B,OAAO,CAAEM,WAAtC,0BADA,cAEA,KAAC,YAAD,EAAc,IAAI,CAAC,SAAnB,CAA6B,OAAO,CAAEJ,cAAtC,0BAFA,GANR,EARF,GADF,CAuBD,CA1CuB,CAA1B,CA4CA,cAAeN,CAAAA,SAAf","sourcesContent":["import React, {useState} from 'react'\nimport LogoUrl from '../logo.svg'\nimport {NavLink, useHistory} from 'react-router-dom'\nimport styled from 'styled-components'\nimport {Button} from 'antd'\nimport {useStores} from '../stores'\nimport {observer} from 'mobx-react'\n\n// header是styled的方法，` `里是params\nconst Header = styled.header`\n  display: flex;\n  align-items: center;\n  padding: 10px 100px;\n  background-color: #02101f;\n`\nconst Logo = styled.img`\n  height: 30px\n`\n// 注意这里的不同\nconst StyledLink = styled(NavLink)`\n  color: #fff;\n  margin-left: 30px;\n\n  &.active {\n    border-bottom: 1px solid #fff;\n  }\n`\n\nconst Login = styled.div`\n  margin-left: auto;\n`\nconst StyledButton = styled(Button)`\n  margin-left: 10px;\n`\n\nconst Component = observer(() => {\n\n    const history = useHistory()\n    const {UserStore, AuthStore} = useStores()\n\n    const handleLogout = () => {\n      AuthStore.logout()\n    }\n\n    const handleRegister = () => {\n      console.log('跳转到注册页面')\n      history.push('/register')\n    }\n\n    const handleLogin = () => {\n      console.log('跳转到登陆页面')\n      history.push('/login')\n    }\n\n    return (\n      <Header>\n        <Logo src={LogoUrl}/>\n        <nav>\n          {/*activeClassName是navLink特有的*/}\n          <StyledLink exact to=\"/\" activeClassName=\"active\">首页</StyledLink>\n          <StyledLink to=\"/history\" activeClassName=\"active\">上传历史</StyledLink>\n          <StyledLink to=\"/about\" activeClassName=\"active\">关于我</StyledLink>\n        </nav>\n        <Login>\n          {\n            UserStore.currentUser ? <>\n                {UserStore.currentUser.attributes.username}\n                <StyledButton type=\"primary\" onClick={handleLogout}>注销</StyledButton>\n              </>\n              : <>\n                <StyledButton type=\"primary\" onClick={handleLogin}>登陆</StyledButton>\n                <StyledButton type=\"primary\" onClick={handleRegister}>注册</StyledButton>\n              </>\n          }\n        </Login>\n      </Header>\n    )\n  }\n)\nexport default Component\n\n"]},"metadata":{},"sourceType":"module"}