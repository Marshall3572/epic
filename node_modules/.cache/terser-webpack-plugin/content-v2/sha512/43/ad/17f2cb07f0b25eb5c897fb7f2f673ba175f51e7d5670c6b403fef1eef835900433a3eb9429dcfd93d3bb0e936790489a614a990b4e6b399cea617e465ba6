{"code":"(this[\"webpackJsonpepic-react\"]=this[\"webpackJsonpepic-react\"]||[]).push([[8],{270:function(t,e,i){\"use strict\";i.r(e);var r,c=i(0),n=i(162),s=i(33),a=i(83),j=i(80),b=i(187),o=i.n(b),u=i(266),d=i(169),l=i(34),h=i(5),O=l.a.img(r||(r=Object(s.a)([\"\\n  width: 100px;\\n  height: 120px;\\n  object-fit: contain;\\n  border: 1px solid #eee;\\n\"]))),x=Object(a.a)((function(){var t=Object(j.a)().HistoryStore;Object(c.useEffect)((function(){return console.log(\"\\u8fdb\\u5165\\u7ec4\\u4ef6\\u65f6\\u6267\\u884c\"),function(){console.log(\"\\u5378\\u8f7d\"),t.reset()}}),[]);var e={initialLoad:!0,pageStart:0,loadMore:function(){t.find()},hasMore:!t.isLoading&&t.hasMore,useWindow:!0};return Object(h.jsxs)(o.a,Object(n.a)(Object(n.a)({},e),{},{children:[Object(h.jsx)(u.b,{dataSource:t.list,renderItem:function(t){return Object(h.jsxs)(u.b.Item,{children:[Object(h.jsx)(\"div\",{children:Object(h.jsx)(O,{src:t.attributes.url.attributes.url})}),Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"h5\",{children:t.attributes.filename})}),Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"a\",{target:\"_blank\",href:t.attributes.url.attributes.url,children:t.attributes.url.attributes.url})})]},t.id)},children:t.isLoading&&t.hasMore&&Object(h.jsx)(\"div\",{children:Object(h.jsx)(d.a,{tips:\"\\u52a0\\u8f7d\\u4e2d...\"})})}),t.isLoading&&t]}))}));e.default=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(\"h1\",{children:\"History\"}),Object(h.jsx)(x,{})]})}}}]);","name":"static/js/8.2d93da3e.chunk.js","map":{"version":3,"sources":["static/js/8.2d93da3e.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","_templateObject","react","objectSpread2","taggedTemplateLiteral","mobxreact_esm","stores","react_infinite_scroller","react_infinite_scroller_default","n","list","spin","styled_components_browser_esm","jsx_runtime","Img","img","Object","List","HistoryStore","console","log","reset","options","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","a","children","dataSource","renderItem","item","Item","src","attributes","url","filename","target","href","id","tips"],"mappings":"CAACA,KAAK,0BAA4BA,KAAK,2BAA6B,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5E,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IA+BIG,EA/BAC,EAAQH,EAAoB,GAG5BI,EAAgBJ,EAAoB,KAGpCK,EAAwBL,EAAoB,IAG5CM,EAAgBN,EAAoB,IAGpCO,EAASP,EAAoB,IAG7BQ,EAA0BR,EAAoB,KAC9CS,EAA+CT,EAAoBU,EAAEF,GAGrEG,EAAOX,EAAoB,KAG3BY,EAAOZ,EAAoB,KAG3Ba,EAAgCb,EAAoB,IAGpDc,EAAcd,EAAoB,GAGde,EAAIF,EAA+C,EAAEG,IAAId,IAAkBA,EAAgBe,OAAOZ,EAAuC,EAA9CY,CAAiD,CAAC,+FAAgIC,EAAQD,OAAOX,EAAgC,EAAxC,EAA2C,WAAW,IAAqDa,EAAtCF,OAAOV,EAA0B,EAAjCU,GAA8DE,aAAoEF,OAAOd,EAAiB,UAAxBc,EAA2B,WAAkC,OAAvBG,QAAQC,IAAI,8CAAkB,WAAWD,QAAQC,IAAI,gBAAMF,EAAaG,WAAY,IAAI,IAAIC,EAAQ,CAACC,aAAY,EAAKC,UAAU,EAAEC,SAAlN,WAAoBP,EAAaQ,QAAmMC,SAAST,EAAaU,WAAWV,EAAaS,QAAQE,WAAU,GAAM,OAAmBb,OAAOH,EAAkB,KAAzBG,CAA4BR,EAAgCsB,EAAEd,OAAOb,EAA+B,EAAtCa,CAAyCA,OAAOb,EAA+B,EAAtCa,CAAyC,GAAGM,GAAS,GAAG,CAACS,SAAS,CAAcf,OAAOH,EAAiB,IAAxBG,CAA2BN,EAAsB,EAAE,CAACsB,WAAWd,EAAaR,KAAKuB,WAAW,SAAoBC,GAAM,OAAmBlB,OAAOH,EAAkB,KAAzBG,CAA4BN,EAAsB,EAAEyB,KAAK,CAACJ,SAAS,CAAcf,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACe,SAAsBf,OAAOH,EAAiB,IAAxBG,CAA2BF,EAAI,CAACsB,IAAIF,EAAKG,WAAWC,IAAID,WAAWC,QAAqBtB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACe,SAAsBf,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACe,SAASG,EAAKG,WAAWE,aAA0BvB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACe,SAAsBf,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACwB,OAAO,SAASC,KAAKP,EAAKG,WAAWC,IAAID,WAAWC,IAAIP,SAASG,EAAKG,WAAWC,IAAID,WAAWC,UAAUJ,EAAKQ,KAAMX,SAASb,EAAaU,WAAWV,EAAaS,SAAsBX,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACe,SAAsBf,OAAOH,EAAiB,IAAxBG,CAA2BL,EAAsB,EAAE,CAACgC,KAAK,8BAAezB,EAAaU,WAAWV,SAEjzDpB,EAA6B,QAAI,WAAY,OAAmBkB,OAAOH,EAAkB,KAAzBG,CAA4BH,EAAsB,SAAE,CAACkB,SAAS,CAAcf,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACe,SAAS,YAAyBf,OAAOH,EAAiB,IAAxBG,CAA2BC,EAAK"},"input":"(this[\"webpackJsonpepic-react\"] = this[\"webpackJsonpepic-react\"] || []).push([[8],{\n\n/***/ 270:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/mobx-react/dist/mobxreact.esm.js\nvar mobxreact_esm = __webpack_require__(83);\n\n// EXTERNAL MODULE: ./src/stores/index.js + 3 modules\nvar stores = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./node_modules/react-infinite-scroller/index.js\nvar react_infinite_scroller = __webpack_require__(187);\nvar react_infinite_scroller_default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroller);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/list/index.js + 30 modules\nvar list = __webpack_require__(266);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/index.js\nvar spin = __webpack_require__(169);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/components/List.js\nvar _templateObject;var Img=styled_components_browser_esm[\"a\" /* default */].img(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100px;\\n  height: 120px;\\n  object-fit: contain;\\n  border: 1px solid #eee;\\n\"])));/* harmony default export */ var List = (Object(mobxreact_esm[\"a\" /* observer */])(function(){var _useStores=Object(stores[\"a\" /* useStores */])(),HistoryStore=_useStores.HistoryStore;var loadMore=function loadMore(){HistoryStore.find();};Object(react[\"useEffect\"])(function(){console.log('进入组件时执行');return function(){console.log('卸载');HistoryStore.reset();};},[]);var options={initialLoad:true,pageStart:0,loadMore:loadMore,hasMore:!HistoryStore.isLoading&&HistoryStore.hasMore,useWindow:true};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_infinite_scroller_default.a,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},options),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list[\"b\" /* default */],{dataSource:HistoryStore.list,renderItem:function renderItem(item){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(list[\"b\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Img,{src:item.attributes.url.attributes.url})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:item.attributes.filename})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{target:\"_blank\",href:item.attributes.url.attributes.url,children:item.attributes.url.attributes.url})})]},item.id);},children:HistoryStore.isLoading&&HistoryStore.hasMore&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(spin[\"a\" /* default */],{tips:'加载中...'})})}),HistoryStore.isLoading&&HistoryStore]}));}));\n// CONCATENATED MODULE: ./src/pages/History.js\n/* harmony default export */ var History = __webpack_exports__[\"default\"] = (function(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"History\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List,{})]});});\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/marshall/Desktop/epic-react/epic/src/components/List.js","/Users/marshall/Desktop/epic-react/epic/src/pages/History.js"],"names":["Img","styled","img","observer","useStores","HistoryStore","loadMore","find","useEffect","console","log","reset","options","initialLoad","pageStart","hasMore","isLoading","useWindow","list","item","attributes","url","filename","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAOA,GAAMA,IAAG,CAAGC,gDAAM,CAACC,GAAV,mLAAT,CAOeC,kFAAQ,CAAC,UAAM,CAC5B,eAAuBC,mCAAS,EAAhC,CAAOC,YAAP,YAAOA,YAAP,CACA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBD,YAAY,CAACE,IAAb,GACD,CAFD,CAIAC,0BAAS,CAAC,UAAM,CACdC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA,MAAO,WAAM,CACXD,OAAO,CAACC,GAAR,CAAY,IAAZ,EACAL,YAAY,CAACM,KAAb,GACD,CAHD,CAID,CANQ,CAMN,EANM,CAAT,CAOA,GAAMC,QAAO,CAAG,CACdC,WAAW,CAAE,IADC,CAEdC,SAAS,CAAE,CAFG,CAGdR,QAAQ,CAAEA,QAHI,CAIdS,OAAO,CAAE,CAACV,YAAY,CAACW,SAAd,EAA2BX,YAAY,CAACU,OAJnC,CAKdE,SAAS,CAAE,IALG,CAAhB,CAQA,mBACE,4BAAC,iCAAD,sFAAoBL,OAApB,6BACE,2BAAC,uBAAD,EAAM,UAAU,CAAEP,YAAY,CAACa,IAA/B,CACM,UAAU,CACR,oBAAAC,IAAI,qBAAK,4BAAC,uBAAD,CAAM,IAAN,yBACP,wDACE,2BAAC,GAAD,EAAK,GAAG,CAAEA,IAAI,CAACC,UAAL,CAAgBC,GAAhB,CAAoBD,UAApB,CAA+BC,GAAzC,EADF,EADO,cAIP,wDACE,0CAAKF,IAAI,CAACC,UAAL,CAAgBE,QAArB,EADF,EAJO,cAOP,wDACE,gCAAG,MAAM,CAAC,QAAV,CAAmB,IAAI,CAAEH,IAAI,CAACC,UAAL,CAAgBC,GAAhB,CAAoBD,UAApB,CAA+BC,GAAxD,UAA8DF,IAAI,CAACC,UAAL,CAAgBC,GAAhB,CAAoBD,UAApB,CAA+BC,GAA7F,EADF,EAPO,GAAgBF,IAAI,CAACI,EAArB,CAAL,EAFZ,UAcGlB,YAAY,CAACW,SAAb,EAA0BX,YAAY,CAACU,OAAvC,eACC,wDACE,2BAAC,uBAAD,EAAM,IAAI,CAAE,QAAZ,EADF,EAfJ,EADF,CAqBGV,YAAY,CAACW,SAAb,EAA0BX,YArB7B,IADF,CAyBD,CA9CsB,CAAvB,E;;ACXc,uFAAM,CAClB,mBACE,4EACE,qDADF,cAEE,2BAAC,IAAD,IAFF,GADF,CAMD,CAPD,E","file":"x","sourcesContent":["import React, {useEffect} from 'react'\nimport {observer} from 'mobx-react'\nimport {useStores} from '../stores'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport {List, Spin} from 'antd'\nimport styled from 'styled-components'\n\nconst Img = styled.img`\n  width: 100px;\n  height: 120px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`\n\nexport default observer(() => {\n  const {HistoryStore} = useStores()\n  const loadMore = () => {\n    HistoryStore.find()\n  }\n\n  useEffect(() => {\n    console.log('进入组件时执行')\n    return () => {\n      console.log('卸载')\n      HistoryStore.reset()\n    }\n  }, [])\n  const options = {\n    initialLoad: true,\n    pageStart: 0,\n    loadMore: loadMore,\n    hasMore: !HistoryStore.isLoading && HistoryStore.hasMore,\n    useWindow: true\n  }\n\n  return (\n    <InfiniteScroll {...options}>\n      <List dataSource={HistoryStore.list}\n            renderItem={\n              item => (<List.Item key={item.id}>\n                <div>\n                  <Img src={item.attributes.url.attributes.url}/>\n                </div>\n                <div>\n                  <h5>{item.attributes.filename}</h5>\n                </div>\n                <div>\n                  <a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\n                </div>\n              </List.Item>)\n            }>\n        {HistoryStore.isLoading && HistoryStore.hasMore && (\n          <div>\n            <Spin tips={'加载中...'}/>\n          </div>\n        )}\n      </List>\n      {HistoryStore.isLoading && HistoryStore}\n    </InfiniteScroll>\n  )\n})","import React from 'react'\nimport List from '../components/List'\n\nexport default() => {\n  return (\n    <>\n      <h1>History</h1>\n      <List/>\n    </>\n  )\n}"]}}