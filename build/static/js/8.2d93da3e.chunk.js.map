{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","observer","HistoryStore","useStores","useEffect","console","log","reset","options","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","src","attributes","url","filename","target","href","id","tips","List"],"mappings":"wNAOMA,EAAMC,IAAOC,IAAV,kHAOMC,eAAS,WACtB,IAAOC,EAAgBC,cAAhBD,aAKPE,qBAAU,WAER,OADAC,QAAQC,IAAI,8CACL,WACLD,QAAQC,IAAI,gBACZJ,EAAaK,WAEd,IACH,IAAMC,EAAU,CACdC,aAAa,EACbC,UAAW,EACXC,SAde,WACfT,EAAaU,QAcbC,SAAUX,EAAaY,WAAaZ,EAAaW,QACjDE,WAAW,GAGb,OACE,eAAC,IAAD,2BAAoBP,GAApB,cACE,cAAC,IAAD,CAAMQ,WAAYd,EAAae,KACzBC,WACE,SAAAC,GAAI,OAAK,eAAC,IAAKC,KAAN,WACP,8BACE,cAACtB,EAAD,CAAKuB,IAAKF,EAAKG,WAAWC,IAAID,WAAWC,QAE3C,8BACE,6BAAKJ,EAAKG,WAAWE,aAEvB,8BACE,mBAAGC,OAAO,SAASC,KAAMP,EAAKG,WAAWC,IAAID,WAAWC,IAAxD,SAA8DJ,EAAKG,WAAWC,IAAID,WAAWC,UARxEJ,EAAKQ,KAFtC,SAcGzB,EAAaY,WAAaZ,EAAaW,SACtC,8BACE,cAAC,IAAD,CAAMe,KAAM,8BAIjB1B,EAAaY,WAAaZ,SCtDnB,qBACZ,OACE,qCACE,yCACA,cAAC2B,EAAD","file":"static/js/8.2d93da3e.chunk.js","sourcesContent":["import React, {useEffect} from 'react'\nimport {observer} from 'mobx-react'\nimport {useStores} from '../stores'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport {List, Spin} from 'antd'\nimport styled from 'styled-components'\n\nconst Img = styled.img`\n  width: 100px;\n  height: 120px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`\n\nexport default observer(() => {\n  const {HistoryStore} = useStores()\n  const loadMore = () => {\n    HistoryStore.find()\n  }\n\n  useEffect(() => {\n    console.log('进入组件时执行')\n    return () => {\n      console.log('卸载')\n      HistoryStore.reset()\n    }\n  }, [])\n  const options = {\n    initialLoad: true,\n    pageStart: 0,\n    loadMore: loadMore,\n    hasMore: !HistoryStore.isLoading && HistoryStore.hasMore,\n    useWindow: true\n  }\n\n  return (\n    <InfiniteScroll {...options}>\n      <List dataSource={HistoryStore.list}\n            renderItem={\n              item => (<List.Item key={item.id}>\n                <div>\n                  <Img src={item.attributes.url.attributes.url}/>\n                </div>\n                <div>\n                  <h5>{item.attributes.filename}</h5>\n                </div>\n                <div>\n                  <a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\n                </div>\n              </List.Item>)\n            }>\n        {HistoryStore.isLoading && HistoryStore.hasMore && (\n          <div>\n            <Spin tips={'加载中...'}/>\n          </div>\n        )}\n      </List>\n      {HistoryStore.isLoading && HistoryStore}\n    </InfiniteScroll>\n  )\n})","import React from 'react'\nimport List from '../components/List'\n\nexport default() => {\n  return (\n    <>\n      <h1>History</h1>\n      <List/>\n    </>\n  )\n}"],"sourceRoot":""}